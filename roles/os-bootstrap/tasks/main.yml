# code: language=ansible
---
- name: Define OS specific variables
  block:
    - name: "OS specific vars (will overwrite /vars/main.yml)"
      ansible.builtin.include_vars: "{{ item }}"
      with_first_found:
        - files:
            - "{{ ansible_distribution }}-{{ ansible_distribution_release }}.yml"
            - "{{ ansible_distribution }}-{{ ansible_distribution_major_version | int }}.yml"
            - "{{ ansible_distribution }}.yml"
            - "{{ ansible_os_family }}.yml"
            - "default.yml"
          paths: "{{ playbook_dir }}/vars"
          skip: true

    - name: Bootstrap setup
      ansible.builtin.include_tasks: "{{ item }}"
      with_first_found:
        - files:
            - "{{ ansible_distribution }}.yml"
          skip: true
